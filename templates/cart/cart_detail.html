{% extends 'base.html' %}

{% block title %}Your Cart - Nature Touch{% endblock %}

{% block content %}
<h2 class="fw-bold text-center mb-4">ðŸ›’ Your Shopping Cart</h2>

{% if cart %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="table-responsive">
        <table class="table table-bordered align-middle shadow-sm">
          <thead class="table-success">
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Total</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart %}
            <tr>
              <td>{{ item.product.name }}</td>
              <td>Rs. {{ item.price }}</td>
              <td class="text-center">
                <div class="d-flex justify-content-center align-items-center gap-2">
                  <a href="{% url 'decrease_quantity' item.product.id %}"
                    class="btn btn-outline-secondary btn-sm px-2 py-1">âˆ’</a>
                  <span class="fw-bold">{{ item.quantity }}</span>
                  <a href="{% url 'increase_quantity' item.product.id %}"
                    class="btn btn-outline-secondary btn-sm px-2 py-1">+</a>
                </div>
              </td>
              <td>Rs. {{ item.total_price }}</td>
              <td><a href="{% url 'remove_from_cart' item.product.id %}" class="btn btn-danger btn-sm">Remove</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <div class="text-end fw-bold">
        <p class="fs-5">Total: Rs. {{ cart.get_total_price }}</p>
        <a href="{% url 'checkout' %}" class="btn btn-success px-4 py-2">Proceed to Checkout</a>
      </div>
    </div>
  </div>
</div>
{% else %}
<p class="text-center text-muted">Your cart is empty.</p>
{% endif %}
{% endblock %}