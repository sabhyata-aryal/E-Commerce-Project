{% extends 'base.html' %}

{% block title %}{{ product.name }} - Nature Touch{% endblock %}

{% block content %}
<div class="container text-center px-3">
    <div class="row justify-content-center">
        <div class="col-12 col-md-6">
            {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid rounded shadow mb-4">
            {% else %}
            <img src="https://via.placeholder.com/400x300?text=No+Image" alt="No image"
                class="img-fluid rounded shadow mb-4">
            {% endif %}

            <h2 class="fw-bold">{{ product.name }}</h2>
            <p class="text-muted">{{ product.category.name }}</p>
            <p class="lead mt-3">{{ product.description }}</p>
            <h4 class="text-success mt-3">Rs. {{ product.price }}</h4>

            {% if product.is_available %}
            <form action="{% url 'add_to_cart' product.id %}" method="post" class="add-to-cart-form mt-4">
                {% csrf_token %}
                <div class="input-group justify-content-center flex-wrap gap-2">
                    <input type="number" name="quantity" value="1" min="1" class="form-control w-auto text-center"
                        style="max-width: 80px;">
                    <button type="submit" class="btn btn-success px-4 py-2">ðŸ›’ Add to Cart</button>
                </div>
            </form>
            {% else %}
            <button class="btn btn-secondary mt-4 px-4 py-2" disabled>Out of Stock</button>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}